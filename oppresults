<template>
    <lightning-card title="Opportunity Results">
        <lightning-datatable
            key-field="id"
            data={opportunities}
            columns={columns}>
        </lightning-datatable>
    </lightning-card>
</template>

import { LightningElement, track, api } from 'lwc';
import getOpportunities from '@salesforce/apex/OpportunityController.getOpportunities';

export default class OpportunityResults extends LightningElement {
    @track opportunities;
    @track columns = [
        { label: 'Name', fieldName: 'Name' },
        { label: 'Stage', fieldName: 'StageName' },
        { label: 'Amount', fieldName: 'Amount', type: 'currency' },
        { label: 'Close Date', fieldName: 'CloseDate', type: 'date' }
    ];

    @api
    handleSearchCriteria(searchCriteria) {
        // Fetch opportunities based on the search criteria
        getOpportunities({ criteria: searchCriteria })
            .then(data => {
                this.opportunities = data;
            })
            .catch(error => {
                console.error('Error fetching opportunities:', error);
            });
    }
}



